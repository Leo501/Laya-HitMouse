var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameTopPanel_1 = require("./layer/GameTopPanel");
var HammerMgr_1 = require("./manger/HammerMgr");
var GameMouseLayer_1 = require("./layer/GameMouseLayer");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("layer/GameTopPanel.ts", GameTopPanel_1.default);
        reg("manger/HammerMgr.ts", HammerMgr_1.default);
        reg("layer/GameMouseLayer.ts", GameMouseLayer_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "horizontal";
    GameConfig.alignV = "middle";
    GameConfig.alignH = "center";
    GameConfig.startScene = "Scene/GameMain.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./layer/GameMouseLayer":3,"./layer/GameTopPanel":4,"./manger/HammerMgr":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameModel_1 = require("../module/GameModel");
var ListenerManger_1 = require("../manger/ListenerManger");
var GameLayer = /** @class */ (function (_super) {
    __extends(GameLayer, _super);
    function GameLayer() {
        var _this = _super.call(this) || this;
        _this.mouseArr = [];
        _this.skis = ['ui/mouse_normal_1.png', 'ui/mouse_normal_2.png'];
        _this.hitSkis = ['ui/mouse_hit_1.png', 'ui/mouse_hit_2.png'];
        return _this;
    }
    GameLayer.prototype.onEnable = function () {
        ListenerManger_1.ListenerMgr.Instance().on('onHammerHit', this, this.onCheckHit);
    };
    GameLayer.prototype.onStart = function () {
        this.mouseBirthAI();
    };
    GameLayer.prototype.mouseBirthAI = function () {
        var id = (Math.random() * 9 + 1) | 0;
        while (id == GameModel_1.default.Instacne().curHoleIdx) {
            id = (Math.random() * 9 + 1) | 0;
        }
        var type = ((Math.random() * 4) | 0);
        type = type == 0 ? 1 : 0;
        if (!this.mouseArr[id]) {
            this.mouseArr[id] = this.mousCreateById(id, type);
        }
        var mouse = this.mouseArr[id];
        mouse.skin = this.skis[type];
        this.mouseUpAnim(mouse);
        Laya.timer.once(1500, this, this.mouseDownAnim, [mouse]);
        GameModel_1.default.Instacne().curMouseType = type;
        GameModel_1.default.Instacne().curHoleIdx = id;
    };
    GameLayer.prototype.mousCreateById = function (id, type) {
        var mouseItem = this.owner.getChildByName('mouseItem_' + id);
        var bg = mouseItem.getChildByName('bg');
        var mouse = new Laya.Image(this.skis[type]);
        mouse.alpha = 0;
        bg.addChild(mouse);
        return mouse;
    };
    GameLayer.prototype.mouseUpAnim = function (celler) {
        celler.visible = true;
        Laya.Tween.to(celler, { alpha: 1 }, 100);
        Laya.Tween.to(celler, { y: -23 }, 200, Laya.Ease.linearIn, null, 100);
    };
    GameLayer.prototype.stopMouseDownTimeout = function () {
        Laya.timer.clear(this, this.mouseDownAnim);
    };
    GameLayer.prototype.mouseDownAnim = function (celler) {
        var _this = this;
        Laya.Tween.to(celler, { y: 0 }, 200);
        Laya.Tween.to(celler, { alpha: 0 }, 100, Laya.Ease.linearIn, Laya.Handler.create(this, function () {
            celler.visible = false;
            _this.mouseBirthAI();
        }), 200);
    };
    GameLayer.prototype.checkHit = function (bounds) {
        for (var i = 1; i <= 10; i++) {
            var mouse = this.mouseArr[i];
            if (!mouse)
                continue;
            var targetBounds = mouse.getBounds();
            var globalPos = mouse.localToGlobal(new Laya.Point(0, 0));
            targetBounds.x = globalPos.x;
            targetBounds.y = globalPos.y;
            var isHit = targetBounds.intersection(bounds);
            if (isHit)
                return i;
        }
        return -1;
    };
    GameLayer.prototype.hitMouseAnim = function (celler) {
        celler.y = 0;
        celler.skin = this.hitSkis[GameModel_1.default.Instacne().curMouseType];
    };
    GameLayer.prototype.onCheckHit = function (hammer) {
        var idx = this.checkHit(hammer.getBounds());
        console.log('hit mouse No is ', idx);
        var mouse = this.mouseArr[idx];
        mouse && this.hitMouseAnim(mouse);
    };
    GameLayer.prototype.onDisable = function () {
        ListenerManger_1.ListenerMgr.Instance().offAllCaller(this);
    };
    return GameLayer;
}(Laya.Script));
exports.default = GameLayer;

},{"../manger/ListenerManger":6,"../module/GameModel":7}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameTopPanel = /** @class */ (function (_super) {
    __extends(GameTopPanel, _super);
    function GameTopPanel() {
        return _super.call(this) || this;
    }
    GameTopPanel.prototype.onEnable = function () {
    };
    GameTopPanel.prototype.onStart = function () {
        this.chanceTime = this.owner.getChildByName('chanceTime');
        this.gameScore = this.owner.getChildByName('score');
        this.initUI();
    };
    GameTopPanel.prototype.initUI = function () {
        this.setChanceTime(1);
        this.setGameScore(100);
    };
    GameTopPanel.prototype.setChanceTime = function (numb) {
        this.chanceTime.value = numb;
    };
    GameTopPanel.prototype.setGameScore = function (score) {
        var data = {};
        for (var i = 9; i > -1; i--) {
            data["num" + i] = { index: score % 10 };
            score /= 10;
        }
        this.gameScore.dataSource = data;
    };
    GameTopPanel.prototype.onDisable = function () {
    };
    return GameTopPanel;
}(Laya.Script));
exports.default = GameTopPanel;

},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ListenerManger_1 = require("../manger/ListenerManger");
var HannerMgr = /** @class */ (function (_super) {
    __extends(HannerMgr, _super);
    function HannerMgr() {
        return _super.call(this) || this;
    }
    HannerMgr.prototype.onEnable = function () {
        ListenerManger_1.ListenerMgr.Instance().on('onHammerHit', this, this.onHammerPlay);
        ListenerManger_1.ListenerMgr.Instance().on('onHammerMove', this, this.onHammerMove);
    };
    HannerMgr.prototype.onStart = function () {
        var effect = Laya.Pool.getItemByCreateFun("HammnerAnim", this.createAnim, this);
        this.owner.addChild(effect);
        this.hammer = effect;
        this.hammer.play(0, false);
        this.hammer.pos(-100, -100);
    };
    HannerMgr.prototype.onHammerPlay = function () {
        this.hammer && this.hammer.play(0, false);
    };
    HannerMgr.prototype.onHammerMove = function (pos) {
        this.hammer && this.hammer.pos(pos.x, pos.y);
    };
    HannerMgr.prototype.createAnim = function () {
        var resPath = "Anims/Hammer.ani";
        var ani = new Laya.Animation();
        ani.loadAnimation(resPath);
        return ani;
    };
    HannerMgr.prototype.onMouseDown = function (data) {
        this.onHammerPlay();
        ListenerManger_1.ListenerMgr.Instance().event('onHammerHit', this.hammer);
    };
    HannerMgr.prototype.onMouseMove = function (data) {
        this.onHammerMove(new Laya.Point(data.stageX, data.stageY));
    };
    HannerMgr.prototype.onDisable = function () {
        ListenerManger_1.ListenerMgr.Instance().offAllCaller(this);
    };
    return HannerMgr;
}(Laya.Script));
exports.default = HannerMgr;

},{"../manger/ListenerManger":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ListenerMgr = /** @class */ (function (_super) {
    __extends(ListenerMgr, _super);
    function ListenerMgr() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ListenerMgr.Instance = function () {
        return this.instance;
    };
    ListenerMgr.instance = new Laya.EventDispatcher();
    return ListenerMgr;
}(Laya.EventDispatcher));
exports.ListenerMgr = ListenerMgr;

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameModel = /** @class */ (function () {
    function GameModel() {
    }
    GameModel.Instacne = function () {
        if (!GameModel.instance) {
            GameModel.instance = new GameModel();
        }
        return GameModel.instance;
    };
    Object.defineProperty(GameModel.prototype, "curMouseType", {
        get: function () {
            return this._curMouseType;
        },
        set: function (type) {
            this._curMouseType = type;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(GameModel.prototype, "curHoleIdx", {
        get: function () {
            return this._curHoleIdx;
        },
        set: function (idx) {
            this._curHoleIdx = idx;
        },
        enumerable: true,
        configurable: true
    });
    GameModel.prototype.getHearCount = function () {
        return this._hearCount;
    };
    GameModel.prototype.hearCountMinus = function () {
        this._hearCount--;
        if (this._hearCount < 0) {
            this._hearCount = 0;
        }
    };
    Object.defineProperty(GameModel.prototype, "gameScore", {
        get: function () {
            return this._gameScore;
        },
        set: function (num) {
            this._gameScore = num;
        },
        enumerable: true,
        configurable: true
    });
    return GameModel;
}());
exports.default = GameModel;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL0FwcGxpY2F0aW9ucy9MYXlhQWlySURFX2JldGEuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvbGF5ZXIvR2FtZU1vdXNlTGF5ZXIudHMiLCJzcmMvbGF5ZXIvR2FtZVRvcFBhbmVsLnRzIiwic3JjL21hbmdlci9IYW1tZXJNZ3IudHMiLCJzcmMvbWFuZ2VyL0xpc3RlbmVyTWFuZ2VyLnRzIiwic3JjL21vZHVsZS9HYW1lTW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLHFEQUErQztBQUMvQyxnREFBMEM7QUFDMUMseURBQW1EO0FBQ25EOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsdUJBQXVCLEVBQUMsc0JBQVksQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxtQkFBUyxDQUFDLENBQUM7UUFDckMsR0FBRyxDQUFDLHlCQUF5QixFQUFDLHdCQUFjLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBbEJNLGdCQUFLLEdBQVEsSUFBSSxDQUFDO0lBQ2xCLGlCQUFNLEdBQVEsR0FBRyxDQUFDO0lBQ2xCLG9CQUFTLEdBQVEsWUFBWSxDQUFDO0lBQzlCLHFCQUFVLEdBQVEsWUFBWSxDQUFDO0lBQy9CLGlCQUFNLEdBQVEsUUFBUSxDQUFDO0lBQ3ZCLGlCQUFNLEdBQVEsUUFBUSxDQUFDO0lBQ3ZCLHFCQUFVLEdBQUssc0JBQXNCLENBQUM7SUFDdEMsb0JBQVMsR0FBUSxFQUFFLENBQUM7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QUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztRQUMzQixDQUFDOzs7T0FKQTtJQVFNLGdDQUFZLEdBQW5CO1FBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQzNCLENBQUM7SUFFTSxrQ0FBYyxHQUFyQjtRQUNJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUlELHNCQUFXLGdDQUFTO2FBQXBCO1lBQ0ksT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzNCLENBQUM7YUFFRCxVQUFxQixHQUFXO1lBQzVCLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQzFCLENBQUM7OztPQUpBO0lBT0wsZ0JBQUM7QUFBRCxDQTNEQSxBQTJEQyxJQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVRvcFBhbmVsIGZyb20gXCIuL2xheWVyL0dhbWVUb3BQYW5lbFwiXG5pbXBvcnQgSGFtbWVyTWdyIGZyb20gXCIuL21hbmdlci9IYW1tZXJNZ3JcIlxuaW1wb3J0IEdhbWVNb3VzZUxheWVyIGZyb20gXCIuL2xheWVyL0dhbWVNb3VzZUxheWVyXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cImhvcml6b250YWxcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwibWlkZGxlXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImNlbnRlclwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiU2NlbmUvR2FtZU1haW4uc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcImxheWVyL0dhbWVUb3BQYW5lbC50c1wiLEdhbWVUb3BQYW5lbCk7XG4gICAgICAgIHJlZyhcIm1hbmdlci9IYW1tZXJNZ3IudHNcIixIYW1tZXJNZ3IpO1xuICAgICAgICByZWcoXCJsYXllci9HYW1lTW91c2VMYXllci50c1wiLEdhbWVNb3VzZUxheWVyKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9tb2R1bGUvR2FtZU1vZGVsXCI7XHJcbmltcG9ydCB7IExpc3RlbmVyTWdyIH0gZnJvbSBcIi4uL21hbmdlci9MaXN0ZW5lck1hbmdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUxheWVyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIHByaXZhdGUgbW91c2VBcnIgPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHNraXMgPSBbJ3VpL21vdXNlX25vcm1hbF8xLnBuZycsICd1aS9tb3VzZV9ub3JtYWxfMi5wbmcnXTtcclxuXHJcbiAgICBwcml2YXRlIGhpdFNraXMgPSBbJ3VpL21vdXNlX2hpdF8xLnBuZycsICd1aS9tb3VzZV9oaXRfMi5wbmcnXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIExpc3RlbmVyTWdyLkluc3RhbmNlKCkub24oJ29uSGFtbWVySGl0JywgdGhpcywgdGhpcy5vbkNoZWNrSGl0KTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMubW91c2VCaXJ0aEFJKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VCaXJ0aEFJKCkge1xyXG4gICAgICAgIGxldCBpZCA9IChNYXRoLnJhbmRvbSgpICogOSArIDEpIHwgMDtcclxuICAgICAgICB3aGlsZSAoaWQgPT0gR2FtZU1vZGVsLkluc3RhY25lKCkuY3VySG9sZUlkeCkge1xyXG4gICAgICAgICAgICBpZCA9IChNYXRoLnJhbmRvbSgpICogOSArIDEpIHwgMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHR5cGUgPSAoKE1hdGgucmFuZG9tKCkgKiA0KSB8IDApO1xyXG4gICAgICAgIHR5cGUgPSB0eXBlID09IDAgPyAxIDogMDtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1vdXNlQXJyW2lkXSkge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlQXJyW2lkXSA9IHRoaXMubW91c0NyZWF0ZUJ5SWQoaWQsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbW91c2UgPSB0aGlzLm1vdXNlQXJyW2lkXSBhcyBMYXlhLkltYWdlO1xyXG4gICAgICAgIG1vdXNlLnNraW4gPSB0aGlzLnNraXNbdHlwZV07XHJcblxyXG4gICAgICAgIHRoaXMubW91c2VVcEFuaW0obW91c2UpO1xyXG4gICAgICAgIExheWEudGltZXIub25jZSgxNTAwLCB0aGlzLCB0aGlzLm1vdXNlRG93bkFuaW0sIFttb3VzZV0pO1xyXG5cclxuICAgICAgICBHYW1lTW9kZWwuSW5zdGFjbmUoKS5jdXJNb3VzZVR5cGUgPSB0eXBlO1xyXG4gICAgICAgIEdhbWVNb2RlbC5JbnN0YWNuZSgpLmN1ckhvbGVJZHggPSBpZDtcclxuICAgIH1cclxuXHJcbiAgICBtb3VzQ3JlYXRlQnlJZChpZCwgdHlwZSkge1xyXG4gICAgICAgIGxldCBtb3VzZUl0ZW0gPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKCdtb3VzZUl0ZW1fJyArIGlkKTtcclxuICAgICAgICBsZXQgYmcgPSBtb3VzZUl0ZW0uZ2V0Q2hpbGRCeU5hbWUoJ2JnJyk7XHJcblxyXG4gICAgICAgIGxldCBtb3VzZSA9IG5ldyBMYXlhLkltYWdlKHRoaXMuc2tpc1t0eXBlXSk7XHJcbiAgICAgICAgbW91c2UuYWxwaGEgPSAwO1xyXG4gICAgICAgIGJnLmFkZENoaWxkKG1vdXNlKTtcclxuICAgICAgICByZXR1cm4gbW91c2U7XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VVcEFuaW0oY2VsbGVyOiBMYXlhLkltYWdlKSB7XHJcbiAgICAgICAgY2VsbGVyLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIExheWEuVHdlZW4udG8oY2VsbGVyLCB7IGFscGhhOiAxIH0sIDEwMCk7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhjZWxsZXIsIHsgeTogLTIzIH0sIDIwMCwgTGF5YS5FYXNlLmxpbmVhckluLCBudWxsLCAxMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3BNb3VzZURvd25UaW1lb3V0KCkge1xyXG4gICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5tb3VzZURvd25BbmltKVxyXG4gICAgfVxyXG5cclxuICAgIG1vdXNlRG93bkFuaW0oY2VsbGVyOiBMYXlhLkltYWdlKSB7XHJcbiAgICAgICAgTGF5YS5Ud2Vlbi50byhjZWxsZXIsIHsgeTogMCB9LCAyMDApO1xyXG4gICAgICAgIExheWEuVHdlZW4udG8oY2VsbGVyLCB7IGFscGhhOiAwIH0sIDEwMCwgTGF5YS5FYXNlLmxpbmVhckluLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgY2VsbGVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZUJpcnRoQUkoKTtcclxuICAgICAgICB9KSwgMjAwKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0hpdChib3VuZHM6IExheWEuUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTA7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbW91c2UgPSB0aGlzLm1vdXNlQXJyW2ldIGFzIExheWEuSW1hZ2U7XHJcbiAgICAgICAgICAgIGlmICghbW91c2UpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0Qm91bmRzID0gbW91c2UuZ2V0Qm91bmRzKCk7XHJcbiAgICAgICAgICAgIGxldCBnbG9iYWxQb3MgPSBtb3VzZS5sb2NhbFRvR2xvYmFsKG5ldyBMYXlhLlBvaW50KDAsIDApKTtcclxuICAgICAgICAgICAgdGFyZ2V0Qm91bmRzLnggPSBnbG9iYWxQb3MueDtcclxuICAgICAgICAgICAgdGFyZ2V0Qm91bmRzLnkgPSBnbG9iYWxQb3MueTtcclxuICAgICAgICAgICAgbGV0IGlzSGl0ID0gdGFyZ2V0Qm91bmRzLmludGVyc2VjdGlvbihib3VuZHMpO1xyXG4gICAgICAgICAgICBpZiAoaXNIaXQpIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgaGl0TW91c2VBbmltKGNlbGxlcjogTGF5YS5JbWFnZSkge1xyXG4gICAgICAgIGNlbGxlci55ID0gMDtcclxuICAgICAgICBjZWxsZXIuc2tpbiA9IHRoaXMuaGl0U2tpc1tHYW1lTW9kZWwuSW5zdGFjbmUoKS5jdXJNb3VzZVR5cGVdO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hlY2tIaXQoaGFtbWVyOiBMYXlhLlNwcml0ZSkge1xyXG4gICAgICAgIGxldCBpZHggPSB0aGlzLmNoZWNrSGl0KGhhbW1lci5nZXRCb3VuZHMoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2hpdCBtb3VzZSBObyBpcyAnLCBpZHgpO1xyXG4gICAgICAgIGxldCBtb3VzZSA9IHRoaXMubW91c2VBcnJbaWR4XTtcclxuICAgICAgICBtb3VzZSAmJiB0aGlzLmhpdE1vdXNlQW5pbShtb3VzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIExpc3RlbmVyTWdyLkluc3RhbmNlKCkub2ZmQWxsQ2FsbGVyKHRoaXMpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVRvcFBhbmVsIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIHByaXZhdGUgY2hhbmNlVGltZTogTGF5YS5Qcm9ncmVzc0JhcjtcclxuXHJcbiAgICBwcml2YXRlIGdhbWVTY29yZTogTGF5YS5Cb3g7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuY2hhbmNlVGltZSA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoJ2NoYW5jZVRpbWUnKSBhcyBMYXlhLlByb2dyZXNzQmFyO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjb3JlID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnc2NvcmUnKSBhcyBMYXlhLkJveDtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VUkoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0VUkoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDaGFuY2VUaW1lKDEpO1xyXG4gICAgICAgIHRoaXMuc2V0R2FtZVNjb3JlKDEwMCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldENoYW5jZVRpbWUobnVtYjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5jaGFuY2VUaW1lLnZhbHVlID0gbnVtYjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRHYW1lU2NvcmUoc2NvcmU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBkYXRhID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDk7IGkgPiAtMTsgaS0tKSB7XHJcbiAgICAgICAgICAgIGRhdGFbYG51bSR7aX1gXSA9IHsgaW5kZXg6IHNjb3JlICUgMTAgfTtcclxuICAgICAgICAgICAgc2NvcmUgLz0gMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ2FtZVNjb3JlLmRhdGFTb3VyY2UgPSBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExpc3RlbmVyTWdyIH0gZnJvbSBcIi4uL21hbmdlci9MaXN0ZW5lck1hbmdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFubmVyTWdyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIHByaXZhdGUgaGFtbWVyOiBMYXlhLkFuaW1hdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIExpc3RlbmVyTWdyLkluc3RhbmNlKCkub24oJ29uSGFtbWVySGl0JywgdGhpcywgdGhpcy5vbkhhbW1lclBsYXkpO1xyXG4gICAgICAgIExpc3RlbmVyTWdyLkluc3RhbmNlKCkub24oJ29uSGFtbWVyTW92ZScsIHRoaXMsIHRoaXMub25IYW1tZXJNb3ZlKTtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJ0KCkge1xyXG4gICAgICAgIGxldCBlZmZlY3QgPSBMYXlhLlBvb2wuZ2V0SXRlbUJ5Q3JlYXRlRnVuKFwiSGFtbW5lckFuaW1cIiwgdGhpcy5jcmVhdGVBbmltLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKGVmZmVjdCk7XHJcbiAgICAgICAgdGhpcy5oYW1tZXIgPSBlZmZlY3Q7XHJcbiAgICAgICAgdGhpcy5oYW1tZXIucGxheSgwLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5oYW1tZXIucG9zKC0xMDAsIC0xMDApO1xyXG4gICAgfVxyXG5cclxuICAgIG9uSGFtbWVyUGxheSgpIHtcclxuICAgICAgICB0aGlzLmhhbW1lciAmJiB0aGlzLmhhbW1lci5wbGF5KDAsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkhhbW1lck1vdmUocG9zOiBMYXlhLlBvaW50KSB7XHJcbiAgICAgICAgdGhpcy5oYW1tZXIgJiYgdGhpcy5oYW1tZXIucG9zKHBvcy54LCBwb3MueSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbSgpOiBMYXlhLkFuaW1hdGlvbiB7XHJcbiAgICAgICAgbGV0IHJlc1BhdGggPSBcIkFuaW1zL0hhbW1lci5hbmlcIjtcclxuICAgICAgICBsZXQgYW5pOiBMYXlhLkFuaW1hdGlvbiA9IG5ldyBMYXlhLkFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaS5sb2FkQW5pbWF0aW9uKHJlc1BhdGgpO1xyXG4gICAgICAgIHJldHVybiBhbmk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Nb3VzZURvd24oZGF0YTogTGF5YS5FdmVudCkge1xyXG4gICAgICAgIHRoaXMub25IYW1tZXJQbGF5KCk7XHJcbiAgICAgICAgTGlzdGVuZXJNZ3IuSW5zdGFuY2UoKS5ldmVudCgnb25IYW1tZXJIaXQnLHRoaXMuaGFtbWVyKVxyXG4gICAgfVxyXG5cclxuICAgIG9uTW91c2VNb3ZlKGRhdGE6IExheWEuRXZlbnQpIHtcclxuICAgICAgICB0aGlzLm9uSGFtbWVyTW92ZShuZXcgTGF5YS5Qb2ludChkYXRhLnN0YWdlWCwgZGF0YS5zdGFnZVkpKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgTGlzdGVuZXJNZ3IuSW5zdGFuY2UoKS5vZmZBbGxDYWxsZXIodGhpcyk7XHJcbiAgICB9XHJcbn0iLCJcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0ZW5lck1nciBleHRlbmRzIExheWEuRXZlbnREaXNwYXRjaGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTGF5YS5FdmVudERpc3BhdGNoZXIgPSBuZXcgTGF5YS5FdmVudERpc3BhdGNoZXIoKTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEluc3RhbmNlKCk6IExpc3RlbmVyTWdyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuICAgXHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU1vZGVsIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogR2FtZU1vZGVsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEluc3RhY25lKCkge1xyXG4gICAgICAgIGlmICghR2FtZU1vZGVsLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIEdhbWVNb2RlbC5pbnN0YW5jZSA9IG5ldyBHYW1lTW9kZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEdhbWVNb2RlbC5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9jdXJNb3VzZVR5cGU6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGN1ck1vdXNlVHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VyTW91c2VUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgY3VyTW91c2VUeXBlKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2N1ck1vdXNlVHlwZSA9IHR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfY3VySG9sZUlkeDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgY3VySG9sZUlkeCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VySG9sZUlkeDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGN1ckhvbGVJZHgoaWR4KSB7XHJcbiAgICAgICAgdGhpcy5fY3VySG9sZUlkeCA9IGlkeDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9oZWFyQ291bnQ6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0SGVhckNvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFyQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhlYXJDb3VudE1pbnVzKCkge1xyXG4gICAgICAgIHRoaXMuX2hlYXJDb3VudC0tO1xyXG4gICAgICAgIGlmICh0aGlzLl9oZWFyQ291bnQgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlYXJDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2dhbWVTY29yZTogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgZ2FtZVNjb3JlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nYW1lU2NvcmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBnYW1lU2NvcmUobnVtOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9nYW1lU2NvcmUgPSBudW07XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbn0iXX0=
